#+title: Emacs计算器

* 进入Calc
  Calc采用后缀表达式
  - ~C-x * q~ 可以输入单行的表达式
  - ~C-x * c~ 普通模式
  - ~C-x * k~ 带软键盘模式
  - ~C-x * e~ 嵌入模式,可以在任意模式下,前后空行的地方进入

* 基本使用
  计算器基本使用是,向栈里写数,输入操作符,取数,将结果压栈
  - 基本运算符有 ~+,-,*,/,\,^,%~ 等
  - ~&~ 倒数 ~n~ 相反数, ~!~ gamma函数(整数时是阶乘)
  - 操作符可以传入一个arg,表示取几个参数,
    一元算符代表每个操作一次,二元算符则reduce
  - 可以使用未申明的变量和 _函数_ ,这是会当作代数表达式
  - (r,i)是复数
  - ~x~ 捷键调用函数(calc-xxx)
  - ~<tab>~ 交换栈顶元素
  - ~C-d~ 和 ~<backspace>~ 删除栈顶, ~C-0 <backspace>~ 删除栈
  - ~RET~ 重复之前动作, ~M-RET~ 上次参数
  - ~U,D~ undo,redo
  - ~$,$$,$$$~ 代表栈顶...
  - ~=~ 对表达式求值或 _化简_
  - ' 进入代数模式, ` 在buffer中编辑栈顶数字
  基本函数
  - ~E~ exp
  - ~P~ pi  ~H P~ e
  - ~T~ tan
  - ~S~ sin
  - ~C~ cos
  - ~L~ ln
  - ~B~ log(a,b)
  - ~A~ abs


** Binary
    位运算

** Functions
    函数

** Graphics
    图形

** Kombinatorics
    组合数学
    - ~k c~ 组合数
    - ~k f~ 所有因子
    - ~k n~ 下一个素数 ~I k n~ 上一个

** Vector/Matrix
    []表示向量
    + ~*~ 是点乘, ~A~ 是模 ~v C~ 叉乘

** Store/recall
    储存和召回
  - ~s 0..9~ 快捷储存 ~r 0..9~ 快捷召回
  - ~s s~ 储存变量, ~s t~ 将栈顶数储存到变量, ~s r~ 将变量值压入栈顶 ,
    ~s u~ 移出一个值
  - ~=>~ 运算符,表示求值到 ~s =~

** Trail
   记录所有运算过程(快捷键以t开头)
   - ~t d~ 显示trail
   - ~t n/p/]/[/f/b~ 移动当前的trail
   - ~t y~ 粘贴到原始buffer

** Display
   - ~p~ 精度
   - ~d n/f/e/s~ 正常/小数位固定/工程/科学, 传入参数可控制精度
   - ~d SPC~ 刷新栈
   - ~d g~ 将大整数分组,传入参数控制每组数目,
     ~d , SPC~ 将分割改为空格
   - ~d r 16~ 16进制显示.指定进制:
    : 16#ff

** 模式
   - ~m d/r~ 角度/弧度
   - ~m f~ 有理数保留分数
   - ~m a~ 快捷键,进入全局代数模式,允许一次输入完整表达式

** 前缀
   - ~I~ 函数I前缀表示反函数
   - ~H~ 表示双曲函数
     