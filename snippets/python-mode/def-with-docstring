# -*- mode: snippet -*-
# name: def-with-docstring
# key: def
# --
def ${1:name}($2):
    """
    $3
    ${2:$(let ((indent (save-excursion
                 (forward-line 1)
                 (if (re-search-forward "[ ]+")
                     (match-string 0)
                   "    "))))
  (python/generate-doc yas-text indent))}
    """
    $0